webpackJsonp([13,43],{737:function(t,e,i){i(738);var r=i(305)(i(739),i(740),"data-v-69996b4c",null);t.exports=r.exports},738:304,739:function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var n=i(426),s=r(n);e.default={props:{showTel:{type:Boolean,default:!1},tickName:{type:String,default:""},tickId:{type:String,default:""}},data:function(){return{}},methods:{openTelSheet:function(){return s.doTick(s[this.tickName][0]+(this.tickId||"")),this.$Tel.open({tickName:this.tickName,tickId:this.tickId})}}}},740:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"headnav cf"},[i("div",{staticClass:"left-part"},[t._t("left")],2),t._v(" "),i("div",{staticClass:"title"},[t._t("title")],2),t._v(" "),i("div",{staticClass:"right-part"},[t._t("right",[t.showTel?i("a",{staticClass:"kefu",on:{click:t.openTelSheet}},[i("i",{staticClass:"icon meicai-icon2-kefu"})]):t._e()])],2)])},staticRenderFns:[]}},827:function(t,e,i){i(828);var r=i(305)(i(829),i(834),"data-v-0b036123",null);t.exports=r.exports},828:304,829:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(308),s=i(737),o=r(s),a=i(830),d=r(a),c=i(426);e.default={vuex:{getters:{loadError:function(t){var e=t.order;return e.loadError},status:function(t){var e=t.order;return e.status},statusText:function(t){var e=t.order;return e.statusText},orderTabs:function(t){var e=t.order;return e.orderTabs},orderList:function(t){var e=t.order;return e.orderList},showMask:function(t){var e=t.order;return e.showMask}},actions:{setOrderStatus:n.orderAction.setOrderStatus,getOrderList:n.orderAction.getOrderList,hideOrderMask:n.orderAction.hideOrderMask}},data:function(){return{noOrderStyle:{height:window.innerHeight-92+"px"}}},beforeRouteEnter:function(t,e,i){if(0==parseInt(window.g_company_id)){var r=encodeURIComponent("/entry/index#/order");window.location.href="/account/login?sucurl="+r}else i(function(i){"orderdetail"!==e.name&&i.setOrderStatus(t.query.status||"all"),i.getList(i.status)})},methods:{closeMask:function(){this.hideOrderMask()},goMall:function(){(0,c.doTick)(c.orderSpm[2])},getList:function(t){var e=c.orderStatusSpm[t];e&&(0,c.doTick)(e),this.getOrderList({status:t})}},components:{headNav:o.default,orderItem:d.default}}},830:function(t,e,i){i(831);var r=i(305)(i(832),i(833),"data-v-60bc7b0a",null);t.exports=r.exports},831:304,832:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(308),n=i(426);e.default={props:["orderindex","info"],vuex:{getters:{showMask:function(t){var e=t.order;return e.showMask}},actions:{cancelOrder:r.orderAction.cancelOrder,orderBuyAgain:r.orderAction.orderBuyAgain,showOrderMask:r.orderAction.showOrderMask,hideOrderMask:r.orderAction.hideOrderMask}},data:function(){return{winWidth:window.innerWidth,winHeight:window.innerHeight,isbottom:!1,btnGroup:this.info.components.button,showMore:!1}},computed:{showBtnNum:function(){return this.btnGroup.length>0?this.winWidth-24>=88*this.btnGroup.length?this.btnGroup.length:parseInt((this.winWidth-73)/88):0},showBtns:function(){return this.btnGroup.slice(0,this.showBtnNum)},hideBtns:function(){return this.btnGroup.slice(this.showBtnNum,this.btnGroup.length)}},watch:{showMask:function(t){t||(this.showMore=!1)}},components:{},methods:{toogleMore:function(t){this.winHeight-t.target.getBoundingClientRect().bottom-4<=32*this.hideBtns.length?this.isbottom=!0:this.isbottom=!1,this.showMask||(this.showMore=!0,this.showOrderMask())},handleClick:function(t){switch(this.showMask&&this.hideOrderMask(),(0,n.doTick)(n.orderListBtnSpm[t.id]+this.info.order_id),t.id){case"btn_trace":this.btnTrace();break;case"btn_buy":this.btnBuyAgain();break;case"btn_evaluate":this.btnEvaluate();break;case"btn_cancel":this.btnOrderCancel();break;case"btn_after_sale":this.btnAfterSale();break;case"btn_refund":this.btnTrace();break;default:console.log(t.id)}},goDetail:function(t){(0,n.doTick)(n.orderListBtnSpm.btn_detail+this.info.order_id),this.$router.push({name:"orderdetail",query:{order_id:t}})},imgLoad:function(t){t.target.src="//img.yunshanmeicai.com/weixin-mall/image/good_default.png"},btnBuyAgain:function(){this.orderBuyAgain({order_id:this.info.order_id})},btnOrderCancel:function(){this.cancelOrder({order_id:this.info.order_id})},btnAfterSale:function(){location.href="/mapp/package/index?order_id="+this.info.order_id},btnRefund:function(){this.$router.push({name:"ordertrack",query:{order_id:this.info.order_id}})},btnEvaluate:function(){location.href="/evaluate/index?order_id="+this.info.order_id+"&company_id="+window.g_company_id},btnTrace:function(){this.$router.push({name:"ordertrack",query:{order_id:this.info.order_id}})}}}},833:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-item"},[i("div",{staticClass:"top"},[i("span",[t._v("下单时间 "+t._s(t.info.c_t))]),t._v(" "),i("span",{staticClass:"status",style:{color:t.info.order_status_color,fontWeight:t.info.order_status_font_weight}},[t._v(t._s(t.info.order_status_name))])]),t._v(" "),i("div",{staticClass:"main",on:{click:function(e){e.stopPropagation(),t.goDetail(t.info.order_id)}}},[i("ul",t._l(t.info.sku_img,function(e){return i("li",{key:e.sku_id},[e&&e.url?i("img",{attrs:{src:e.url},on:{error:function(e){t.imgLoad(e)}}}):t._e(),t._v(" "),e&&e.url?t._e():i("img",{attrs:{src:"//img.yunshanmeicai.com/weixin-mall/image/good_default.png"}})])})),t._v(" "),i("i",{staticClass:"meicai-icon-right-arrow"})]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"count"},[t._v("共"+t._s(t.info.sku_num)+"类商品")]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"total-price"},[t._v(" ¥"+t._s(t.info.total_price)+" ")]),i("span",[t._v("(含运费¥"+t._s(t.info.freight_fee)+")")])])]),t._v(" "),i("div",{staticClass:"btn-group cf"},[t._l(t.showBtns,function(e,r){return i("a",{key:e.id,staticClass:"btn",on:{click:function(i){t.handleClick(e)}}},[t._v(t._s(e.text))])}),t._v(" "),t.hideBtns.length>0?i("div",{staticClass:"more",on:{click:function(e){t.toogleMore(e)}}},[t._v("\n      更多\n      "),t.showMask&&t.showMore?i("div",{staticClass:"hide-btns",class:{istop:!t.isbottom,isbottom:t.isbottom}},t._l(t.hideBtns,function(e,r){return i("a",{key:e.id,on:{click:function(i){i.stopPropagation(),t.handleClick(e)}}},[t._v(t._s(e.text))])})):t._e()]):t._e()],2)])},staticRenderFns:[]}},834:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("head-nav",[i("router-link",{staticClass:"back",attrs:{to:{name:"mine"}},slot:"left"},[i("span",{staticClass:"meicai-icon-left-arrow"})]),t._v(" "),i("p",{slot:"title"},[t._v("我的订单")])],1),t._v(" "),t.orderTabs&&t.orderTabs.length>0?i("div",[i("div",{staticClass:"status-wrap"},[i("ul",t._l(t.orderTabs,function(e){return i("li",{key:e.id,class:{active:e.active},on:{click:function(i){t.getList(e.id)}}},[t._v(t._s(e.text))])}))]),t._v(" "),t.orderList.length>0?i("div",[i("div",{staticClass:"order-list"},t._l(t.orderList,function(t,e){return i("order-item",{key:t.order_id,attrs:{orderindex:e,info:t}})}))]):t._e(),t._v(" "),0==t.orderList.length?i("div",{staticClass:"no-order",style:t.noOrderStyle},[i("img",{attrs:{width:"150",height:"129",src:"//img.yunshanmeicai.com/weixin-mall/image/order_none.png",alt:"loding..."}}),t._v(" "),i("p",[t._v("老板，最近一个月您还没有"+t._s(t.statusText)+"订单哦~")]),t._v(" "),i("router-link",{staticClass:"go-mall",attrs:{to:{name:"purchase"}},on:{click:t.goMall}},[t._v("去购买")])],1):t._e()]):t._e(),t._v(" "),t.loadError?i("div",{staticClass:"off-net"},[i("img",{attrs:{src:"//img.yunshanmeicai.com/weixin-mall/image/off_net.png"}}),t._v(" "),i("p",[t._v("网络故障，请重新加载")]),t._v(" "),i("a",{on:{click:function(e){t.getList("all")}}},[t._v("重新加载")])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask",on:{click:t.closeMask}})],1)},staticRenderFns:[]}}});